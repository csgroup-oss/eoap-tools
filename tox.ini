# Tox configuration file
# Read more under https://tox.wiki/

[tox]
minversion = 4.0.0
envlist = py312, py313

[gh-actions]
python =
    3.12: py312
    3.13: py313

[testenv]
description = Invoke pytest to run tests
package = editable
dependency_groups = test
commands =
    pytest {posargs}
setenv =
    COVERAGE_FILE=tests-reports/coverage-{envname}

[testenv:lint]
description = Lint source code
package = editable
dependency_groups = lint
commands =
    ruff format --force-exclude --exit-non-zero-on-format {posargs:src tests}
    ruff check --fix --force-exclude --exit-non-zero-on-fix {posargs:src tests}
    mypy {posargs:src}
